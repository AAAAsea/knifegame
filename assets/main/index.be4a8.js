window.__require=function t(e,o,r){function n(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var h="function"==typeof __require&&__require;if(!c&&h)return h(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var d=o[a]={exports:{}};e[a][0].call(d.exports,function(t){return n(e[a][1][t]||t)},d,d.exports,t,e,o,r)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)n(r[a]);return n}({game:[function(t,e){"use strict";function o(t,e){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=r(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(o=t[Symbol.iterator]()).next.bind(o)}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}cc._RF.push(e,"8cd8caD6D9K+KYVAB38gbya","game"),cc.Class({extends:cc.Component,properties:{targetNode:cc.Node,knifeNode:cc.Node,knifePrefab:cc.Prefab,scoreLabel:cc.Label,overNode:cc.Node,replayNode:cc.Node,cryClip:cc.AudioClip,scoreClip:cc.AudioClip},onLoad:function(){var t=this;this.canThrow=!0,this.node.on("touchstart",this.throwKnife,this),this.replayNode.on("touchstart",this.replay,this),this.targetRotation=3,this.targetNode.zIndex=1,this.overNode.zIndex=3,this.knifeNodeArr=[],this.score=0,this.overNode.active=!1,setInterval(function(){t.changeSpeed()},2e3)},onDestory:function(){this.node.off("touchstart",this.throwKnife,this),this.replay.off("touchstart",this.replay,this)},replay:function(){cc.director.loadScene("game")},changeSpeed:function(){var t=Math.random()>.5?1:-1,e=1+3*Math.random();this.targetRotation=t*e},throwKnife:function(){var t=this;this.canThrow&&(this.canThrow=!1,cc.tween(this.knifeNode).to(.15,{position:cc.v2(this.knifeNode.x,this.targetNode.y-this.targetNode.width/2)}).call(function(){for(var e,r=!1,n=o(t.knifeNodeArr);!(e=n()).done;){var i=e.value;(Math.abs(i.angle)<8||Math.abs(i.angle)>352)&&(r=!0)}if(r)cc.audioEngine.play(t.cryClip),cc.tween(t.knifeNode).to(.3,{position:cc.v2(cc.winSize.width/2,-cc.winSize.height)},{rotation:50}).call(function(){t.node.opacity=150,t.overNode.active=!0}).start();else{t.score+=1,cc.audioEngine.play(t.scoreClip),t.scoreLabel.string=t.score;var a=cc.instantiate(t.knifePrefab);a.setPosition(t.knifeNode.position),t.node.addChild(a),t.knifeNode.setPosition(cc.v2(0,-300)),t.knifeNodeArr.push(a),t.canThrow=!0}}).start())},update:function(){this.targetNode.angle=(this.targetNode.angle+this.targetRotation)%360;for(var t,e=o(this.knifeNodeArr);!(t=e()).done;){var r=t.value;r.angle=(r.angle+this.targetRotation)%360;var n=this.targetNode.width/2,i=Math.PI*(r.angle-90)/180;r.x=this.targetNode.x+n*Math.cos(i),r.y=this.targetNode.y+n*Math.sin(i)}}}),cc._RF.pop()},{}]},{},["game"]);